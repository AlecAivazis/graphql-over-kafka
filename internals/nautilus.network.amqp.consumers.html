

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>nautilus.network.amqp.consumers package &mdash; nautilus v0.4.1 documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="nautilus v0.4.1 documentation" href="../index.html"/>
        <link rel="up" title="nautilus.network.amqp package" href="nautilus.network.amqp.html"/>
        <link rel="next" title="nautilus.network.http package" href="nautilus.network.http.html"/>
        <link rel="prev" title="nautilus.network.amqp.actionHandlers package" href="nautilus.network.amqp.actionHandlers.html"/> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> nautilus
          

          
          </a>

          
            
            
              <div class="version">
                v0.4
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../intro/index.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../services/index.html">Services</a></li>
<li class="toctree-l1"><a class="reference internal" href="../handlers/index.html">Action Handlers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../schema/index.html">API Gateway</a></li>
<li class="toctree-l1"><a class="reference internal" href="../utilities/index.html">Utilities</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Module Index</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="index.html#subpackages">Subpackages</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="nautilus.api.html">nautilus.api package</a></li>
<li class="toctree-l3"><a class="reference internal" href="nautilus.auth.html">nautilus.auth package</a></li>
<li class="toctree-l3"><a class="reference internal" href="nautilus.config.html">nautilus.config package</a></li>
<li class="toctree-l3"><a class="reference internal" href="nautilus.contrib.html">nautilus.contrib package</a></li>
<li class="toctree-l3"><a class="reference internal" href="nautilus.conventions.html">nautilus.conventions package</a></li>
<li class="toctree-l3"><a class="reference internal" href="nautilus.management.html">nautilus.management package</a></li>
<li class="toctree-l3"><a class="reference internal" href="nautilus.models.html">nautilus.models package</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="nautilus.network.html">nautilus.network package</a><ul class="current">
<li class="toctree-l4 current"><a class="reference internal" href="nautilus.network.html#subpackages">Subpackages</a></li>
<li class="toctree-l4"><a class="reference internal" href="nautilus.network.html#module-nautilus.network">Module contents</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="nautilus.services.html">nautilus.services package</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="index.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#module-nautilus.database">nautilus.database module</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#module-nautilus">Module contents</a></li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../index.html">nautilus</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          





<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html">Docs</a> &raquo;</li>
      
          <li><a href="index.html">Module Index</a> &raquo;</li>
      
          <li><a href="nautilus.network.html">nautilus.network package</a> &raquo;</li>
      
          <li><a href="nautilus.network.amqp.html">nautilus.network.amqp package</a> &raquo;</li>
      
    <li>nautilus.network.amqp.consumers package</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../_sources/internals/nautilus.network.amqp.consumers.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="nautilus-network-amqp-consumers-package">
<h1>nautilus.network.amqp.consumers package<a class="headerlink" href="#nautilus-network-amqp-consumers-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-nautilus.network.amqp.consumers.actions">
<span id="nautilus-network-amqp-consumers-actions-module"></span><h2>nautilus.network.amqp.consumers.actions module<a class="headerlink" href="#module-nautilus.network.amqp.consumers.actions" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="nautilus.network.amqp.consumers.actions.ActionHandler">
<em class="property">class </em><code class="descclassname">nautilus.network.amqp.consumers.actions.</code><code class="descname">ActionHandler</code><span class="sig-paren">(</span><em>callback</em>, <em>routing_key=None</em>, <em>**kwds</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/nautilus/network/amqp/consumers/actions.html#ActionHandler"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#nautilus.network.amqp.consumers.actions.ActionHandler" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#nautilus.network.amqp.consumers.amqp.AMQPConsumer" title="nautilus.network.amqp.consumers.amqp.AMQPConsumer"><code class="xref py py-class docutils literal"><span class="pre">nautilus.network.amqp.consumers.amqp.AMQPConsumer</span></code></a></p>
<dl class="attribute">
<dt id="nautilus.network.amqp.consumers.actions.ActionHandler.DURABLE">
<code class="descname">DURABLE</code><em class="property"> = True</em><a class="headerlink" href="#nautilus.network.amqp.consumers.actions.ActionHandler.DURABLE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="nautilus.network.amqp.consumers.actions.ActionHandler.EXCHANGE">
<code class="descname">EXCHANGE</code><em class="property"> = 'my_events'</em><a class="headerlink" href="#nautilus.network.amqp.consumers.actions.ActionHandler.EXCHANGE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="nautilus.network.amqp.consumers.actions.ActionHandler.EXCHANGE_TYPE">
<code class="descname">EXCHANGE_TYPE</code><em class="property"> = 'topic'</em><a class="headerlink" href="#nautilus.network.amqp.consumers.actions.ActionHandler.EXCHANGE_TYPE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="nautilus.network.amqp.consumers.actions.ActionHandler.ROUTING_KEY">
<code class="descname">ROUTING_KEY</code><em class="property"> = '*.*.pending'</em><a class="headerlink" href="#nautilus.network.amqp.consumers.actions.ActionHandler.ROUTING_KEY" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-nautilus.network.amqp.consumers.amqp">
<span id="nautilus-network-amqp-consumers-amqp-module"></span><h2>nautilus.network.amqp.consumers.amqp module<a class="headerlink" href="#module-nautilus.network.amqp.consumers.amqp" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="nautilus.network.amqp.consumers.amqp.AMQPConsumer">
<em class="property">class </em><code class="descclassname">nautilus.network.amqp.consumers.amqp.</code><code class="descname">AMQPConsumer</code><span class="sig-paren">(</span><em>amqp_url='amqp://127.0.0.1'</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/nautilus/network/amqp/consumers/amqp.html#AMQPConsumer"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#nautilus.network.amqp.consumers.amqp.AMQPConsumer" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/library/functions.html#object" title="(in Python v2.7)"><code class="xref py py-class docutils literal"><span class="pre">object</span></code></a></p>
<p>This is an example consumer that will handle unexpected interactions
with RabbitMQ such as channel and connection closures.</p>
<p>If RabbitMQ closes the connection, it will reopen it. You should
look at the output, as there are limited reasons why the connection may
be closed, which usually are tied to permission related issues or
socket timeouts.</p>
<p>If the channel is closed, it will indicate a problem with one of the
commands that were issued and that should surface in the output as well.</p>
<dl class="attribute">
<dt id="nautilus.network.amqp.consumers.amqp.AMQPConsumer.DURABLE">
<code class="descname">DURABLE</code><em class="property"> = True</em><a class="headerlink" href="#nautilus.network.amqp.consumers.amqp.AMQPConsumer.DURABLE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="nautilus.network.amqp.consumers.amqp.AMQPConsumer.EXCHANGE">
<code class="descname">EXCHANGE</code><em class="property"> = None</em><a class="headerlink" href="#nautilus.network.amqp.consumers.amqp.AMQPConsumer.EXCHANGE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="nautilus.network.amqp.consumers.amqp.AMQPConsumer.EXCHANGE_TYPE">
<code class="descname">EXCHANGE_TYPE</code><em class="property"> = None</em><a class="headerlink" href="#nautilus.network.amqp.consumers.amqp.AMQPConsumer.EXCHANGE_TYPE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="nautilus.network.amqp.consumers.amqp.AMQPConsumer.ROUTING_KEY">
<code class="descname">ROUTING_KEY</code><em class="property"> = None</em><a class="headerlink" href="#nautilus.network.amqp.consumers.amqp.AMQPConsumer.ROUTING_KEY" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="nautilus.network.amqp.consumers.amqp.AMQPConsumer.acknowledge_message">
<code class="descname">acknowledge_message</code><span class="sig-paren">(</span><em>delivery_tag</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/nautilus/network/amqp/consumers/amqp.html#AMQPConsumer.acknowledge_message"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#nautilus.network.amqp.consumers.amqp.AMQPConsumer.acknowledge_message" title="Permalink to this definition">¶</a></dt>
<dd><p>Acknowledge the message delivery from RabbitMQ by sending a
Basic.Ack RPC method for the delivery tag.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>delivery_tag</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v2.7)"><em>int</em></a>) &#8211; The delivery tag from the Basic.Deliver frame</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="nautilus.network.amqp.consumers.amqp.AMQPConsumer.add_on_cancel_callback">
<code class="descname">add_on_cancel_callback</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/nautilus/network/amqp/consumers/amqp.html#AMQPConsumer.add_on_cancel_callback"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#nautilus.network.amqp.consumers.amqp.AMQPConsumer.add_on_cancel_callback" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a callback that will be invoked if RabbitMQ cancels the consumer
for some reason. If RabbitMQ does cancel the consumer,
on_consumer_cancelled will be invoked by pika.</p>
</dd></dl>

<dl class="method">
<dt id="nautilus.network.amqp.consumers.amqp.AMQPConsumer.add_on_channel_close_callback">
<code class="descname">add_on_channel_close_callback</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/nautilus/network/amqp/consumers/amqp.html#AMQPConsumer.add_on_channel_close_callback"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#nautilus.network.amqp.consumers.amqp.AMQPConsumer.add_on_channel_close_callback" title="Permalink to this definition">¶</a></dt>
<dd><p>This method tells pika to call the on_channel_closed method if
RabbitMQ unexpectedly closes the channel.</p>
</dd></dl>

<dl class="method">
<dt id="nautilus.network.amqp.consumers.amqp.AMQPConsumer.add_on_connection_close_callback">
<code class="descname">add_on_connection_close_callback</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/nautilus/network/amqp/consumers/amqp.html#AMQPConsumer.add_on_connection_close_callback"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#nautilus.network.amqp.consumers.amqp.AMQPConsumer.add_on_connection_close_callback" title="Permalink to this definition">¶</a></dt>
<dd><p>This method adds an on close callback that will be invoked by pika
when RabbitMQ closes the connection to the publisher unexpectedly.</p>
</dd></dl>

<dl class="method">
<dt id="nautilus.network.amqp.consumers.amqp.AMQPConsumer.close_channel">
<code class="descname">close_channel</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/nautilus/network/amqp/consumers/amqp.html#AMQPConsumer.close_channel"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#nautilus.network.amqp.consumers.amqp.AMQPConsumer.close_channel" title="Permalink to this definition">¶</a></dt>
<dd><p>Call to close the channel with RabbitMQ cleanly by issuing the
Channel.Close RPC command.</p>
</dd></dl>

<dl class="method">
<dt id="nautilus.network.amqp.consumers.amqp.AMQPConsumer.close_connection">
<code class="descname">close_connection</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/nautilus/network/amqp/consumers/amqp.html#AMQPConsumer.close_connection"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#nautilus.network.amqp.consumers.amqp.AMQPConsumer.close_connection" title="Permalink to this definition">¶</a></dt>
<dd><p>This method closes the connection to RabbitMQ.</p>
</dd></dl>

<dl class="method">
<dt id="nautilus.network.amqp.consumers.amqp.AMQPConsumer.connect">
<code class="descname">connect</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/nautilus/network/amqp/consumers/amqp.html#AMQPConsumer.connect"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#nautilus.network.amqp.consumers.amqp.AMQPConsumer.connect" title="Permalink to this definition">¶</a></dt>
<dd><p>This method connects to RabbitMQ, returning the connection handle.
When the connection is established, the on_connection_open method
will be invoked by pika.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">pika.SelectConnection</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="nautilus.network.amqp.consumers.amqp.AMQPConsumer.handle_event">
<code class="descname">handle_event</code><span class="sig-paren">(</span><em>dispatcher</em>, <em>action_type</em>, <em>payload</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/nautilus/network/amqp/consumers/amqp.html#AMQPConsumer.handle_event"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#nautilus.network.amqp.consumers.amqp.AMQPConsumer.handle_event" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="nautilus.network.amqp.consumers.amqp.AMQPConsumer.on_bindok">
<code class="descname">on_bindok</code><span class="sig-paren">(</span><em>unused_frame</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/nautilus/network/amqp/consumers/amqp.html#AMQPConsumer.on_bindok"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#nautilus.network.amqp.consumers.amqp.AMQPConsumer.on_bindok" title="Permalink to this definition">¶</a></dt>
<dd><p>Invoked by pika when the Queue.Bind method has completed. At this
point we will start consuming messages by calling start_consuming
which will invoke the needed RPC commands to start the process.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>unused_frame</strong> (<em>pika.frame.Method</em>) &#8211; The Queue.BindOk response frame</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="nautilus.network.amqp.consumers.amqp.AMQPConsumer.on_cancelok">
<code class="descname">on_cancelok</code><span class="sig-paren">(</span><em>unused_frame</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/nautilus/network/amqp/consumers/amqp.html#AMQPConsumer.on_cancelok"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#nautilus.network.amqp.consumers.amqp.AMQPConsumer.on_cancelok" title="Permalink to this definition">¶</a></dt>
<dd><p>This method is invoked by pika when RabbitMQ acknowledges the
cancellation of a consumer. At this point we will close the channel.
This will invoke the on_channel_closed method once the channel has been
closed, which will in-turn close the connection.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>unused_frame</strong> (<em>pika.frame.Method</em>) &#8211; The Basic.CancelOk frame</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="nautilus.network.amqp.consumers.amqp.AMQPConsumer.on_channel_closed">
<code class="descname">on_channel_closed</code><span class="sig-paren">(</span><em>channel</em>, <em>reply_code</em>, <em>reply_text</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/nautilus/network/amqp/consumers/amqp.html#AMQPConsumer.on_channel_closed"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#nautilus.network.amqp.consumers.amqp.AMQPConsumer.on_channel_closed" title="Permalink to this definition">¶</a></dt>
<dd><p>Invoked by pika when RabbitMQ unexpectedly closes the channel.
Channels are usually closed if you attempt to do something that
violates the protocol, such as re-declare an exchange or queue with
different parameters. In this case, we&#8217;ll close the connection
to shutdown the object.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>pika.channel.Channel</strong> &#8211; The closed channel</li>
<li><strong>reply_code</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v2.7)"><em>int</em></a>) &#8211; The numeric reason the channel was closed</li>
<li><strong>reply_text</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) &#8211; The text reason the channel was closed</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="nautilus.network.amqp.consumers.amqp.AMQPConsumer.on_channel_open">
<code class="descname">on_channel_open</code><span class="sig-paren">(</span><em>channel</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/nautilus/network/amqp/consumers/amqp.html#AMQPConsumer.on_channel_open"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#nautilus.network.amqp.consumers.amqp.AMQPConsumer.on_channel_open" title="Permalink to this definition">¶</a></dt>
<dd><p>This method is invoked by pika when the channel has been opened.
The channel object is passed in so we can make use of it.</p>
<p>Since the channel is now open, we&#8217;ll declare the exchange to use.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>channel</strong> (<em>pika.channel.Channel</em>) &#8211; The channel object</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="nautilus.network.amqp.consumers.amqp.AMQPConsumer.on_connection_closed">
<code class="descname">on_connection_closed</code><span class="sig-paren">(</span><em>connection</em>, <em>reply_code</em>, <em>reply_text</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/nautilus/network/amqp/consumers/amqp.html#AMQPConsumer.on_connection_closed"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#nautilus.network.amqp.consumers.amqp.AMQPConsumer.on_connection_closed" title="Permalink to this definition">¶</a></dt>
<dd><p>This method is invoked by pika when the connection to RabbitMQ is
closed unexpectedly. Since it is unexpected, we will reconnect to
RabbitMQ if it disconnects.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>connection</strong> (<em>pika.connection.Connection</em>) &#8211; The closed connection obj</li>
<li><strong>reply_code</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v2.7)"><em>int</em></a>) &#8211; The server provided reply_code if given</li>
<li><strong>reply_text</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) &#8211; The server provided reply_text if given</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="nautilus.network.amqp.consumers.amqp.AMQPConsumer.on_connection_open">
<code class="descname">on_connection_open</code><span class="sig-paren">(</span><em>unused_connection</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/nautilus/network/amqp/consumers/amqp.html#AMQPConsumer.on_connection_open"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#nautilus.network.amqp.consumers.amqp.AMQPConsumer.on_connection_open" title="Permalink to this definition">¶</a></dt>
<dd><p>This method is called by pika once the connection to RabbitMQ has
been established. It passes the handle to the connection object in
case we need it, but in this case, we&#8217;ll just mark it unused.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="nautilus.network.amqp.consumers.amqp.AMQPConsumer.on_consumer_cancelled">
<code class="descname">on_consumer_cancelled</code><span class="sig-paren">(</span><em>method_frame</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/nautilus/network/amqp/consumers/amqp.html#AMQPConsumer.on_consumer_cancelled"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#nautilus.network.amqp.consumers.amqp.AMQPConsumer.on_consumer_cancelled" title="Permalink to this definition">¶</a></dt>
<dd><p>Invoked by pika when RabbitMQ sends a Basic.Cancel for a consumer
receiving messages.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>method_frame</strong> (<em>pika.frame.Method</em>) &#8211; The Basic.Cancel frame</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="nautilus.network.amqp.consumers.amqp.AMQPConsumer.on_exchange_declareok">
<code class="descname">on_exchange_declareok</code><span class="sig-paren">(</span><em>unused_frame</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/nautilus/network/amqp/consumers/amqp.html#AMQPConsumer.on_exchange_declareok"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#nautilus.network.amqp.consumers.amqp.AMQPConsumer.on_exchange_declareok" title="Permalink to this definition">¶</a></dt>
<dd><p>Invoked by pika when RabbitMQ has finished the Exchange.Declare RPC
command.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>unused_frame</strong> (<em>pika.Frame.Method</em>) &#8211; Exchange.DeclareOk response frame</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="nautilus.network.amqp.consumers.amqp.AMQPConsumer.on_message">
<code class="descname">on_message</code><span class="sig-paren">(</span><em>unused_channel</em>, <em>basic_deliver</em>, <em>properties</em>, <em>body</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/nautilus/network/amqp/consumers/amqp.html#AMQPConsumer.on_message"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#nautilus.network.amqp.consumers.amqp.AMQPConsumer.on_message" title="Permalink to this definition">¶</a></dt>
<dd><p>Invoked by pika when a message is delivered from RabbitMQ. The
channel is passed for your convenience. The basic_deliver object that
is passed in carries the exchange, routing key, delivery tag and
a redelivered flag for the message. The properties passed in is an
instance of BasicProperties with the message properties and the body
is the message that was sent.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>unused_channel</strong> (<em>pika.channel.Channel</em>) &#8211; The channel object</li>
<li><strong>pika.Spec.Basic.Deliver</strong> &#8211; basic_deliver method</li>
<li><strong>pika.Spec.BasicProperties</strong> &#8211; properties</li>
<li><strong>body</strong> (<em>str|unicode</em>) &#8211; The message body</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="nautilus.network.amqp.consumers.amqp.AMQPConsumer.on_queue_declareok">
<code class="descname">on_queue_declareok</code><span class="sig-paren">(</span><em>method_frame</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/nautilus/network/amqp/consumers/amqp.html#AMQPConsumer.on_queue_declareok"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#nautilus.network.amqp.consumers.amqp.AMQPConsumer.on_queue_declareok" title="Permalink to this definition">¶</a></dt>
<dd><p>Method invoked by pika when the Queue.Declare RPC call made in
setup_queue has completed. In this method we will bind the queue
and exchange together with the routing key by issuing the Queue.Bind
RPC command. When this command is complete, the on_bindok method will
be invoked by pika.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>method_frame</strong> (<em>pika.frame.Method</em>) &#8211; The Queue.DeclareOk frame</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="nautilus.network.amqp.consumers.amqp.AMQPConsumer.open_channel">
<code class="descname">open_channel</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/nautilus/network/amqp/consumers/amqp.html#AMQPConsumer.open_channel"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#nautilus.network.amqp.consumers.amqp.AMQPConsumer.open_channel" title="Permalink to this definition">¶</a></dt>
<dd><p>Open a new channel with RabbitMQ by issuing the Channel.Open RPC
command. When RabbitMQ responds that the channel is open, the
on_channel_open callback will be invoked by pika.</p>
</dd></dl>

<dl class="method">
<dt id="nautilus.network.amqp.consumers.amqp.AMQPConsumer.publish">
<code class="descname">publish</code><span class="sig-paren">(</span><em>message</em>, <em>route='*'</em>, <em>correlation_id=None</em>, <em>**args</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/nautilus/network/amqp/consumers/amqp.html#AMQPConsumer.publish"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#nautilus.network.amqp.consumers.amqp.AMQPConsumer.publish" title="Permalink to this definition">¶</a></dt>
<dd><p>This method publishes a message over the amqp queue.</p>
</dd></dl>

<dl class="method">
<dt id="nautilus.network.amqp.consumers.amqp.AMQPConsumer.reconnect">
<code class="descname">reconnect</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/nautilus/network/amqp/consumers/amqp.html#AMQPConsumer.reconnect"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#nautilus.network.amqp.consumers.amqp.AMQPConsumer.reconnect" title="Permalink to this definition">¶</a></dt>
<dd><p>Will be invoked by the IOLoop timer if the connection is
closed. See the on_connection_closed method.</p>
</dd></dl>

<dl class="method">
<dt id="nautilus.network.amqp.consumers.amqp.AMQPConsumer.run">
<code class="descname">run</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/nautilus/network/amqp/consumers/amqp.html#AMQPConsumer.run"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#nautilus.network.amqp.consumers.amqp.AMQPConsumer.run" title="Permalink to this definition">¶</a></dt>
<dd><p>Run the example consumer by connecting to RabbitMQ and then
starting the IOLoop to block and allow the SelectConnection to operate.</p>
</dd></dl>

<dl class="method">
<dt id="nautilus.network.amqp.consumers.amqp.AMQPConsumer.setup_exchange">
<code class="descname">setup_exchange</code><span class="sig-paren">(</span><em>exchange_name</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/nautilus/network/amqp/consumers/amqp.html#AMQPConsumer.setup_exchange"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#nautilus.network.amqp.consumers.amqp.AMQPConsumer.setup_exchange" title="Permalink to this definition">¶</a></dt>
<dd><p>Setup the exchange on RabbitMQ by invoking the Exchange.Declare RPC
command. When it is complete, the on_exchange_declareok method will
be invoked by pika.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>exchange_name</strong> (<em>str|unicode</em>) &#8211; The name of the exchange to declare</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="nautilus.network.amqp.consumers.amqp.AMQPConsumer.start_consuming">
<code class="descname">start_consuming</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/nautilus/network/amqp/consumers/amqp.html#AMQPConsumer.start_consuming"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#nautilus.network.amqp.consumers.amqp.AMQPConsumer.start_consuming" title="Permalink to this definition">¶</a></dt>
<dd><p>This method sets up the consumer by first calling
add_on_cancel_callback so that the object is notified if RabbitMQ
cancels the consumer. It then issues the Basic.Consume RPC command
which returns the consumer tag that is used to uniquely identify the
consumer with RabbitMQ. We keep the value to use it when we want to
cancel consuming. The on_message method is passed in as a callback pika
will invoke when a message is fully received.</p>
</dd></dl>

<dl class="method">
<dt id="nautilus.network.amqp.consumers.amqp.AMQPConsumer.stop">
<code class="descname">stop</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/nautilus/network/amqp/consumers/amqp.html#AMQPConsumer.stop"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#nautilus.network.amqp.consumers.amqp.AMQPConsumer.stop" title="Permalink to this definition">¶</a></dt>
<dd><p>Cleanly shutdown the connection to RabbitMQ by stopping the consumer
with RabbitMQ. When RabbitMQ confirms the cancellation, on_cancelok
will be invoked by pika, which will then closing the channel and
connection. The IOLoop is started again because this method is invoked
when CTRL-C is pressed raising a KeyboardInterrupt exception. This
exception stops the IOLoop which needs to be running for pika to
communicate with RabbitMQ. All of the commands issued prior to starting
the IOLoop will be buffered but not processed.</p>
</dd></dl>

<dl class="method">
<dt id="nautilus.network.amqp.consumers.amqp.AMQPConsumer.stop_consuming">
<code class="descname">stop_consuming</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/nautilus/network/amqp/consumers/amqp.html#AMQPConsumer.stop_consuming"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#nautilus.network.amqp.consumers.amqp.AMQPConsumer.stop_consuming" title="Permalink to this definition">¶</a></dt>
<dd><p>Tell RabbitMQ that you would like to stop consuming by sending the
Basic.Cancel RPC command.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-nautilus.network.amqp.consumers">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-nautilus.network.amqp.consumers" title="Permalink to this headline">¶</a></h2>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="nautilus.network.http.html" class="btn btn-neutral float-right" title="nautilus.network.http package" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="nautilus.network.amqp.actionHandlers.html" class="btn btn-neutral" title="nautilus.network.amqp.actionHandlers package" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2016, Alec Aivazis.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'v0.4.1',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>