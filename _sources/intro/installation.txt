Installation / Setup
=====================

On versions of Ubuntu greater than 16.0, you need to install a few system
packages first:

.. code-block:: bash
    $ sudo apt-get install libffi-dev libssl-dev


Nautilus is availible using pip:

.. code-block:: bash
    $ pip install nautilus

Necessary Background Processes
-------------------------------

In order to run a nautilus cloud, you must have both consul and rabbitmq
installed and running on localhost.

Linux
^^^^^^^^
If you are developing on a linux machine, this is easily accomplished using
docker. For docker installation instructions please visit here. Once you have
successfully installed docker, the two process can be started with two separate
commands in your console:

.. code-block:: bash

    $ docker run -d -p "5672:5672" rabbitmq
    $ docker run -d -p "8500:8500" progrium/consul -server -bootstrap

For more information using docker, please read the documentation here.


Apple / OSX
^^^^^^^^^^^^^
Because of some complications with docker on OSX, we cannot bind our containers
to ports on localhost. This leaves us with two options: point nautilus to
another location (we'll have to do this for every service), or run the two
processes by hand. Since we do not  yet support the first option, OSX users
need to install these two packages by hand using MacPorts or homebrew.

Once consul and rabbitmq are installed, they can be run in background processes
with the following command in the terminal

.. code-block:: bash

    $ consul agent -server -bootstrap -data-dir /tmp/data -ui &
    $ rabbitmq-server &


Notes
-----------
    * I know this is tedious to ensure when developping, nautilus will eventually start these processes for you if they are not present when running a service.
